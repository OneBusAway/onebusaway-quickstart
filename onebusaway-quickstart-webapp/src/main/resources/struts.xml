<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC 
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>

  <include file="struts-onebusaway-api-webapp.xml" />
  <include file="struts-onebusaway-webapp.xml" />

  <constant name="struts.convention.action.suffix" value="Action" />
  <constant name="struts.convention.action.mapAllMatches" value="true" />

  <constant name="struts.convention.action.packages" value="org.onebusaway.webapp.actions,org.onebusaway.api.actions" />
  <constant name="struts.convention.package.locators.basePackage" value="org.onebusaway" />
  <constant name="struts.convention.action.checkImplementsAction" value="false" />
  <constant name="struts.action.extension" value="action,xhtml,,xml,json,csv" />
  <constant name="struts.action.excludePattern" value="/services/.*" />
  
  <bean type="com.opensymphony.xwork2.ActionProxyFactory" name="multi"
    class="org.onebusaway.presentation.impl.struts.MultiActionProxyFactory" />
  <bean type="org.apache.struts2.dispatcher.mapper.ActionMapper" name="multi"
    class="org.onebusaway.presentation.impl.struts.MultiActionMapper" />

  <constant name="struts.actionProxyFactory" value="multi" />
  <constant name="struts.mapper.class" value="multi" />
  
  <constant name="org.onebusaway.presentation.impl.struts.MultiActionProxyFactory.mapping" value="/api=rest,/=struts"/>
  <constant name="org.onebusaway.presentation.impl.struts.MultiActionMapper.mapping" value="/api=rest,/=struts"/>
  
</struts>